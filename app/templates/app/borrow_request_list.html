{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh sÃ¡ch yÃªu cáº§u Ä‘Ã£ táº¡o</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/borrow_request_list.css' %}">
</head>

<body>
<div class="layout">

<!-- ========== SIDEBAR ========== -->
<aside class="sidebar">
 <div class="logo">
        <img src="{% static 'images/library-icon.png' %}" alt="LibraryHub Logo" class="logo-image">
    </div>
     <ul>
        <li><a href="{% url 'book_list' %}">Danh má»¥c sÃ¡ch</a></li>
        <li><a href="{% url 'borrow_request_list' %}" class="active">Danh sÃ¡ch yÃªu cáº§u Ä‘Ã£ táº¡o</a></li>
        <li><a href="{% url 'fine_list' %}">Danh sÃ¡ch hÃ¬nh pháº¡t</a></li>
        <li><a href="#">CÃ i Ä‘áº·t</a></li>
    </ul>
</aside>

<!-- ========== MAIN ========== -->
<main class="main">
    <h1 class="page-title">Danh sÃ¡ch yÃªu cáº§u Ä‘Ã£ táº¡o</h1>

    <div class="table-container">
        <table class="request-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>TiÃªu Ä‘á»</th>
                    <th>Loáº¡i</th>
                    <th>Tráº¡ng thÃ¡i</th>
                    <th>HÃ nh Ä‘á»™ng</th>
                    <th>Káº¿t quáº£</th>
                </tr>
            </thead>

            <tbody>
                {% for r in borrow_requests %}
                <tr>
                    <td>{{ r.borrow_id }}</td>
                    <td>{{ r.book.title }}</td>
                    <td>{{ r.status }}</td>


                    <td>
                        {% if r.status == 'pending' or r.status == 'borrowing' %}
                             <span class="badge badge-blue">YÃªu cáº§u mÆ°á»£n</span>
                        {% else %}
                             <span class="badge badge-yellow">YÃªu cáº§u tráº£</span>
                        {% endif %}
                    </td>


                    <td>
                        {% if r.status == 'pending' %}
                        <span class="status status-pending">Äang chá» duyá»‡t mÆ°á»£n</span>
                        {% elif r.status == 'borrowing' %}
                        <span class="status status-approved">Äang mÆ°á»£n</span>
                        {% elif r.status == 'return_pending' %}
                        <span class="status status-pending">Chá» duyá»‡t tráº£</span>
                        {% elif r.status == 'returned' %}
                        <span class="status status-approved">ÄÃ£ tráº£</span>
                        {% endif %}
                    </td>



                   <td class="action-col">

                        {% if r.status == 'pending' %}
                        <span class="status status-pending">ğŸ•’ Äang chá» duyá»‡t</span>

                        {% elif r.status == 'borrowing' %}
                        <a href="{% url 'request_return' r.borrow_id %}"
                        class="btn btn-warning">
                         YÃªu cáº§u tráº£
                        </a>

                        {% elif r.status == 'return_pending' %}
                        <span class="status status-pending">ğŸ“¤ ÄÃ£ gá»­i yÃªu cáº§u tráº£</span>

                        {% elif r.status == 'returned' %}
                        <span class="status status-approved">âœ… Tráº£ sÃ¡ch thÃ nh cÃ´ng</span>

                        {% elif r.status == 'late' %}
                        <span class="status status-rejected">âš  Trá»… háº¡n</span>

                        {% endif %}

                    </td>


                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" class="empty">ChÆ°a cÃ³ yÃªu cáº§u nÃ o</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>

</div>
</body>
</html>
