{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch y√™u c·∫ßu ƒë√£ t·∫°o</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/borrow_request_list.css' %}">
</head>

<body>
<div class="layout">

<!-- ========== SIDEBAR ========== -->
<aside class="sidebar">
    <h2 class="logo">üìö Lib Mng</h2>
    <ul>
        <li><a href="{% url 'book_list' %}">Danh m·ª•c s√°ch</a></li>
        <li><a href="{% url 'borrow_request_list' %}" class="active">Danh s√°ch y√™u c·∫ßu ƒë√£ t·∫°o</a></li>
        <li><a href="#">Danh s√°ch h√¨nh ph·∫°t</a></li>
        <li><a href="#">C√†i ƒë·∫∑t</a></li>
    </ul>
</aside>

<!-- ========== MAIN ========== -->
<main class="main">
    <h1 class="page-title">Danh s√°ch y√™u c·∫ßu ƒë√£ t·∫°o</h1>

    <div class="table-container">
        <table class="request-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Ti√™u ƒë·ªÅ</th>
                    <th>Lo·∫°i</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
            </thead>

            <tbody>
                {% for r in borrow_requests %}
                <tr>
                    <td>{{ r.borrow_id }}</td>
                    <td>{{ r.book.title }}</td>
                    <td>{{ r.status }}</td>


                    <td>
                        {% if r.request_type == 'borrow' %}
                            <span class="badge badge-blue">Y√™u c·∫ßu m∆∞·ª£n</span>
                        {% else %}
                            <span class="badge badge-yellow">Y√™u c·∫ßu tr·∫£</span>
                        {% endif %}
                    </td>

                    <td>
                        {% if r.status == 'pending' %}
                            <span class="status status-pending">ƒêang ch·ªù</span>
                        {% elif r.status == 'approved' %}
                            <span class="status status-approved">ƒê∆∞·ª£c ch·∫•p nh·∫≠n</span>
                        {% else %}
                            <span class="status status-rejected">B·ªã t·ª´ ch·ªëi</span>
                        {% endif %}
                    </td>


                    <td class="action-col">
                        <i class="fa-solid fa-ellipsis-vertical"></i>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" class="empty">Ch∆∞a c√≥ y√™u c·∫ßu n√†o</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>

</div>
</body>
</html>
