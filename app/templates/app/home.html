{% extends "base.html" %}
{% load static %}

{% block title %}Trang ch·ªß | LibraryHub{% endblock %}
{% block css %}{% static 'css/home.css' %}{% endblock %}

{% block content %}
    <main class="main-content">

    <!-- BANNER -->
    <section class="banner-slider">
        <div class="slides">

            <div class="slide active">
                <img src="{% static 'images/banner1.jpg' %}" alt="Banner 1">
                <div class="caption">
                    <h2>Ch√†o m·ª´ng ƒë·∫øn LibraryHub</h2>
                    <p>Kho tri th·ª©c m·ªü d√†nh cho m·ªçi ng∆∞·ªùi</p>
                </div>
            </div>

            <div class="slide">
                <img src="{% static 'images/banner2.jpg' %}" alt="Banner 2">
                <div class="caption">
                    <h2>H·ªçc t·∫≠p m·ªçi l√∫c</h2>
                    <p>Truy c·∫≠p t√†i nguy√™n m·ªçi n∆°i</p>
                </div>
            </div>

            <div class="slide">
                <img src="{% static 'images/banner1.jpg' %}" alt="Banner 3">
                <div class="caption">
                    <h2>Th∆∞ vi·ªán s·ªë</h2>
                    <p>H√†ng ngh√¨n s√°ch v√† t√†i li·ªáu</p>
                </div>
            </div>

            <div class="slide">
                <img src="{% static 'images/banner2.jpg' %}" alt="Banner 4">
                <div class="caption">
                    <h2>Chia s·∫ª tri th·ª©c</h2>
                    <p>K·∫øt n·ªëi c·ªông ƒë·ªìng h·ªçc t·∫≠p</p>
                </div>
            </div>

            <div class="slide">
                <img src="{% static 'images/banner1.jpg' %}" alt="Banner 5">
                <div class="caption">
                    <h2>Kh√°m ph√° ngay</h2>
                    <p>B·∫Øt ƒë·∫ßu h√†nh tr√¨nh h·ªçc t·∫≠p</p>
                </div>
            </div>

        </div>

        <!-- DOTS -->
        <div class="dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </section>

    <!-- SEARCH -->
    <section class="search-section">
        <div class="search-box">
            <form class="search-form" method="get">
                <input
                    type="text"
                    name="q"
                    placeholder="Nh·∫≠p t√™n s√°ch, t√°c gi·∫£, t·ª´ kh√≥a..."
                >
                <button type="submit">T√¨m ki·∫øm</button>
            </form>
        </div>
    </section>

    <!-- INTRO -->
<section class="intro-section">
    <h2>V·ªÅ LibraryHub</h2>
    <p>
        LibraryHub l√† n·ªÅn t·∫£ng th∆∞ vi·ªán s·ªë hi·ªán ƒë·∫°i, cung c·∫•p h√†ng ngh√¨n ƒë·∫ßu s√°ch,
        t√†i li·ªáu h·ªçc t·∫≠p v√† nghi√™n c·ª©u d√†nh cho sinh vi√™n, gi·∫£ng vi√™n v√† ng∆∞·ªùi y√™u tri th·ª©c.
    </p>
</section>

<!-- CATEGORIES -->
<section class="categories-section">
    <h2>Danh m·ª•c t√†i nguy√™n</h2>

    <div class="categories-grid">
        <div class="category-card">
            <h3>üìò S√°ch h·ªçc t·∫≠p</h3>
            <p>Gi√°o tr√¨nh, s√°ch tham kh·∫£o</p>
        </div>

        <div class="category-card">
            <h3>üìÑ T√†i li·ªáu nghi√™n c·ª©u</h3>
            <p>Lu·∫≠n vƒÉn, b√†i b√°o khoa h·ªçc</p>
        </div>

        <div class="category-card">
            <h3>üíª C√¥ng ngh·ªá</h3>
            <p>L·∫≠p tr√¨nh, AI, Data</p>
        </div>

        <div class="category-card">
            <h3>üåç K·ªπ nƒÉng & x√£ h·ªôi</h3>
            <p>K·ªπ nƒÉng m·ªÅm, kinh t·∫ø</p>
        </div>
    </div>
</section>

<!-- S√ÅCH M·ªöI -->
<!-- S√ÅCH M·ªöI -->
<section class="new-books-section">
    <div class="section-header">
        <h2>S√°ch m·ªõi</h2>
        <a href="{% url 'resource' %}" class="view-all">Xem t·∫•t c·∫£ ‚Üí</a>
    </div>

    <div class="new-books-grid">
        {% for book in new_books %}
        <div class="book-card" onclick="openPopup('{{ book.id }}')">
            <img src="{{ book.image.url }}" alt="{{ book.title }}">
            <h4>{{ book.title }}</h4>
            <p class="author">{{ book.author }}</p>
            <div class="book-meta">
                <span class="tag">{{ book.category.name }}</span>
                {% if book.available %}
                    <span class="status available">C√≥ s·∫µn</span>
                {% else %}
                    <span class="status borrowed">ƒê√£ m∆∞·ª£n</span>
                {% endif %}
            </div>
            <div class="book-stats">
                <span>‚≠ê {{ book.rating }}/5</span>
                <span>üìö {{ book.borrow_count }} l∆∞·ª£t m∆∞·ª£n</span>
            </div>
        </div>
        {% empty %}
        <p>Ch∆∞a c√≥ s√°ch m·ªõi n√†o.</p>
        {% endfor %}
    </div>
</section>



<!-- STATS -->
<section class="stats-section">
    <div class="stat-box">
        <h3>10,000+</h3>
        <p>ƒê·∫ßu s√°ch</p>
    </div>
    <div class="stat-box">
        <h3>5,000+</h3>
        <p>Ng∆∞·ªùi d√πng</p>
    </div>
    <div class="stat-box">
        <h3>1,200+</h3>
        <p>T√†i li·ªáu</p>
    </div>
    <div class="stat-box">
        <h3>24/7</h3>
        <p>Truy c·∫≠p</p>
    </div>
</section>

<!-- CTA -->
<section class="cta-section">
    <h2>B·∫Øt ƒë·∫ßu kh√°m ph√° tri th·ª©c ngay h√¥m nay</h2>
    <p>ƒêƒÉng k√Ω ƒë·ªÉ l∆∞u s√°ch y√™u th√≠ch v√† t·∫£i t√†i li·ªáu mi·ªÖn ph√≠</p>
    <button onclick="openAuthPopup()" class="cta-button">Tham gia ngay</button>
</section>

</main>
{% endblock %}
{% for book in books %}
<div class="book-card">
    <a href="{% url 'book_detail' book.id %}">
        <img src="{{ book.image.url }}">
        <h4>{{ book.title }}</h4>
    </a>
</div>
{% endfor %}


{% block javascript %}
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}

    
