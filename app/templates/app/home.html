{% extends "base.html" %}
{% load static %}

{% block title %}Trang chủ | LibraryHub{% endblock %}
{% block css %}{% static 'css/home.css' %}{% endblock %}

{% block content %}
    <main class="main-content">

    <section class="banner-slider">
    <div class="slides">

        <div class="slide active">
            <img src="{% static 'images/banner1.jpg' %}" alt="Banner 1">
            <div class="caption">
                <h2>Chào mừng đến LibraryHub</h2>
                <p>Kho tri thức mở dành cho mọi người</p>
            </div>
        </div>

        <div class="slide">
            <img src="{% static 'images/banner2.jpg' %}" alt="Banner 2">
            <div class="caption">
                <h2>Học tập mọi lúc</h2>
                <p>Truy cập tài nguyên mọi nơi</p>
            </div>
        </div>

        <div class="slide">
            <img src="{% static 'images/banner1.jpg' %}" alt="Banner 3">
            <div class="caption">
                <h2>Thư viện số</h2>
                <p>Hàng nghìn sách và tài liệu</p>
            </div>
        </div>
    </div>

    <!-- SEARCH OVER BANNER -->
    <div class="search-overlay">
        <form class="search-form" method="get" action="{% url 'search' %}">
    <input
        type="text"
        name="q"
        placeholder="Tìm sách, tác giả..."
    >
    <button type="submit">Tìm kiếm</button>
</form>
    </div>

</section>

    <!-- INTRO -->
<section class="intro-section">
    <h2>Về LibraryHub</h2>
    <p>
        LibraryHub là nền tảng thư viện số hiện đại, cung cấp hàng nghìn đầu sách,
        tài liệu học tập và nghiên cứu dành cho sinh viên, giảng viên và người yêu tri thức.
    </p>
</section>

<!-- CATEGORIES -->
<section class="categories-section">
    <h2>Danh mục tài nguyên</h2>

    <div class="categories-grid">
        <div class="category-card">
            <h3>Sách học tập</h3>
            <p>Giáo trình, sách tham khảo</p>
        </div>

        <div class="category-card">
            <h3>Tài liệu nghiên cứu</h3>
            <p>Luận văn, bài báo khoa học</p>
        </div>

        <div class="category-card">
            <h3>Công nghệ</h3>
            <p>Lập trình, AI, Data</p>
        </div>

        <div class="category-card">
            <h3>Kỹ năng & xã hội</h3>
            <p>Kỹ năng mềm, kinh tế</p>
        </div>
    </div>
</section>

<!-- Tên danh mục chung -->
<section class="books-section">
    <h2>Sách mới</h2>
    <!-- <p class="book-category">Danh mục: Tất cả sách</p> -->

    <div class="new-books-grid">
        {% for book in new_books %}
        <div class="book-card">
            <img src="{{ book.image_url }}" alt="{{ book.title }}">
            <h4>{{ book.title }}</h4>
            <p class="author">
                {% for author in book.authors.all %}
                    {{ author.name }}{% if not forloop.last %}, {% endif %}
                {% empty %}
                    Không có tác giả
                {% endfor %}
            </p>
            <div class="book-meta">
                {% if book.quantity > 0 %}
                    <span class="status available">Có sẵn</span>
                {% else %}
                    <span class="status borrowed">Đã mượn</span>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <p>Chưa có sách mới nào.</p>
        {% endfor %}
    </div>
</section>

<!-- NEWS SECTION -->
<section class="news-section">
    <h2>Tin tức</h2>

    <!-- GRID TIN TỨC -->
    <div class="news-grid" id="news-grid">
        <p>Đang tải tin tức...</p>
    </div>
</section>






<!-- STATS -->
<section class="stats-section">
    <div class="stat-box">
        <h3>10,000+</h3>
        <p>Đầu sách</p>
    </div>
    <div class="stat-box">
        <h3>5,000+</h3>
        <p>Người dùng</p>
    </div>
    <div class="stat-box">
        <h3>1,200+</h3>
        <p>Tài liệu</p>
    </div>
    <div class="stat-box">
        <h3>24/7</h3>
        <p>Truy cập</p>
    </div>
</section>

<!-- CTA -->
<section class="cta-section">
    <h2>Bắt đầu khám phá tri thức ngay hôm nay</h2>
    <p>Đăng ký để lưu sách yêu thích và tải tài liệu miễn phí</p>
    <button onclick="openAuthPopup()" class="cta-button">Tham gia ngay</button>
</section>

</main>
{% endblock %}
{% for book in books %}
<div class="book-card">
    <a href="{% url 'book_detail' book.id %}">
        <img src="{{ book.image.url }}">
        <h4>{{ book.title }}</h4>
    </a>
</div>
{% endfor %}


{% block javascript %}
<script src="{% static 'js/banner.js' %}"></script>
{% endblock %}

    
